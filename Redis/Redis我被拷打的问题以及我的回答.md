# 我被拷打的问题以及我的回答

## 1、Redis快的原因主要有四点：

①他使用了IO多路复用和epoll，提高了处理的性能。这也是他快的重要原因。
②他是纯内存的，内存的速度本身就比硬盘快得多。
③他的命令处理是单线程的，避免了线程切换带来的损耗，而且单线程也不会有死锁和事务管理的问题和处理开销。
④他的数据结构简单且高效，除了list查找的时间复杂度大部分都是O(1)。



## 2、redis的持久化方法

Redis持久化有不持久化、aof、rdb以及混合持久化，现在默认是混合持久化。aof就是在持久化的时候将Redis中的数据以Redis命令的形式写进文件中，rdb就是直接将二进制数据保存，混合持久化就是将当前的数据库中的数据以二进制形式保存，在保存过程中的命令先在缓冲区里保存一份，等保存完成后以命令的形式追加到后面。持久化的频率有立刻持久化、每秒一次以及不主动持久化放进page cache让操作系统决定



## 3、关于Redis多线程和多进程的疑问

Q：
学长我想问问这里你说不是多线程具体是什么意思

> 3也不对，不是多线程



A：
子进程
不是多线程
写时拷贝



Q:
我看小林coding以及尚硅谷的教程他们说的都是线程，没有提到进程这个词
<img src="http://jason243.online/DatabasesNote/Redis/images/1.png">包括Redis官网提到的也是thread



A:
持久化用的子进程



## 4、aof重写你知道吗？

当aof文件大于conf设置的大小的时候，会对aof文件进行重写，对每个key操作的指令只留最新的


## 5、写时拷贝你知道吗

写时复制是持久化的时候，不会将Redis的数据复制一遍持久化，持久化的进程与主进程使用相同的一份数据，当主进程对数据重写的话会触发写时复制，操作系统会将数据复制一份到新的位置，并将持久化进程对这份数据的指针指向新的位置



## 6、然后你觉得redis有哪些用法

A：
Redis可以用来做MySQL的缓存，可以做轻量化的消息队列，但是更推荐用专业的中间件比如mq之类的



Q：
还有其他的吗，这个有点不够



A：
尚硅谷视频里提到了，但是别的我都没接触过，所以快速过完一遍没什么印象了



Q：

没事，可以慢慢了解